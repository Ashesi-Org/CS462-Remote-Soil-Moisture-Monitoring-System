<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile - SoilSense</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="icon" type="image/png" href="../images/logo.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/boxicons@2.0.7/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/dashboard.css" />
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-G4Q56PYSQ5"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-G4Q56PYSQ5");
    </script>
  </head>
  <body>
    <div class="wrapper">
      <nav id="sidebar" class="sidebar">
        <div class="logo-details">
          <img src="images/logo.png" alt="Logo" width="30" height="30" />
          <span class="logo-name">SoilSense</span>
        </div>
        <ul class="nav-links">
          <li>
            <a href="dashboard.html">
              <i class="bx bxs-dashboard"></i>
              <span class="link-name">Dashboard</span>
            </a>
          </li>
          <li>
            <a href="schedule.html">
              <i class="bx bx-calendar"></i>
              <span class="link-name">Irrigation Schedule</span>
            </a>
          </li>
          <li>
            <a href="irrigation-recommendation.html">
              <i class="bx bx-bulb"></i>
              <span class="link-name">Recommendations</span>
            </a>
          </li>
          <div class="bottom-links">
            <li class="active">
              <a href="profile.html">
                <i class="bx bx-user"></i>
                <span class="link-name">Profile</span>
              </a>
            </li>
            <li>
              <a href="#" onclick="LogoutManager.logout(); return false;">
                <i class="bx bx-log-out"></i>
                <span class="link-name">Logout</span>
              </a>
            </li>
          </div>
        </ul>
      </nav>
      <div class="main-content">
        <nav class="navbar navbar-expand-lg navbar-dark bg-success">
          <div class="container-fluid">
            <button
              class="navbar-toggler d-lg-none"
              type="button"
              id="sidebarCollapse"
            >
              <i class="bx bx-menu"></i>
            </button>
            <span class="navbar-brand ms-2">Profile Settings</span>
            <div class="dropdown">
              <button
                class="btn dropdown-toggle d-flex align-items-center"
                type="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <i class="bx bx-user-circle fs-5 me-2"></i>
                <span id="user-name">Loading...</span>
              </button>
              <ul class="dropdown-menu dropdown-menu-end">
                <li>
                  <a class="dropdown-item" href="profile.html">Profile</a>
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li>
                  <a
                    class="dropdown-item"
                    href="#"
                    onclick="LogoutManager.logout(); return false;"
                    >Log Out</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </nav>
        <div class="container mt-4">
          <div class="row justify-content-center">
            <div class="col-md-8">
              <div class="card shadow">
                <div class="card-header bg-success text-white">
                  <h4 class="mb-0">Profile Settings</h4>
                </div>
                <div class="card-body">
                  <div
                    id="error-message"
                    class="alert alert-danger"
                    style="display: none"
                  ></div>
                  <div
                    id="success-message"
                    class="alert alert-success"
                    style="display: none"
                  ></div>
                  <form id="profileForm">
                    <div class="mb-3">
                      <label for="fullName" class="form-label">Full Name</label>
                      <input
                        type="text"
                        class="form-control"
                        id="fullName"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label for="email" class="form-label">Email</label>
                      <input
                        type="email"
                        class="form-control"
                        id="email"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label for="password" class="form-label"
                        >New Password (leave blank to keep current)</label
                      >
                      <input
                        type="password"
                        class="form-control"
                        id="password"
                      />
                    </div>
                    <button type="submit" class="btn btn-success">
                      Update Profile
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/userSession.js"></script>
    <script src="js/logout.js"></script>
    <script src="js/profile.js"></script>
    <script>
      document
        .getElementById("sidebarCollapse")
        .addEventListener("click", function () {
          document.getElementById("sidebar").classList.toggle("active");
        });
    </script>
  </body>
</html>
